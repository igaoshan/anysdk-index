import{_ as i,c as a,o as e,ae as n}from"./chunks/framework.DvccZNqS.js";const c=JSON.parse('{"title":"API 参考","description":"","frontmatter":{},"headers":[],"relativePath":"components/sms/api-reference.md","filePath":"components/sms/api-reference.md"}'),t={name:"components/sms/api-reference.md"};function l(h,s,p,k,r,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="api-参考" tabindex="-1">API 参考 <a class="header-anchor" href="#api-参考" aria-label="Permalink to &quot;API 参考&quot;">​</a></h1><h2 id="核心接口" tabindex="-1">核心接口 <a class="header-anchor" href="#核心接口" aria-label="Permalink to &quot;核心接口&quot;">​</a></h2><h3 id="ismsservice" tabindex="-1">ISmsService <a class="header-anchor" href="#ismsservice" aria-label="Permalink to &quot;ISmsService&quot;">​</a></h3><p>短信服务的主要接口，提供所有短信相关的操作。</p><h4 id="方法列表" tabindex="-1">方法列表 <a class="header-anchor" href="#方法列表" aria-label="Permalink to &quot;方法列表&quot;">​</a></h4><h5 id="send" tabindex="-1">send <a class="header-anchor" href="#send" aria-label="Permalink to &quot;send&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SmsResponse </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SmsRequest request)</span></span></code></pre></div><p>发送单条短信。</p><p><strong>参数：</strong></p><ul><li><code>request</code>: SmsRequest - 短信请求对象</li></ul><p><strong>返回：</strong></p><ul><li><code>SmsResponse</code>: 发送结果</li></ul><h5 id="sendbatch" tabindex="-1">sendBatch <a class="header-anchor" href="#sendbatch" aria-label="Permalink to &quot;sendBatch&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lt;SmsResponse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendBatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lt;SmsRequest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gt; requests)</span></span></code></pre></div><p>批量发送短信。</p><p><strong>参数：</strong></p><ul><li><code>requests</code>: List&lt;SmsRequest&gt; - 短信请求对象列表</li></ul><p><strong>返回：</strong></p><ul><li><code>List&amp;lt;SmsResponse&amp;gt;</code>: 发送结果列表</li></ul><h5 id="sendasync" tabindex="-1">sendAsync <a class="header-anchor" href="#sendasync" aria-label="Permalink to &quot;sendAsync&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CompletableFuture</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lt;SmsResponse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SmsRequest request)</span></span></code></pre></div><p>异步发送短信。</p><p><strong>参数：</strong></p><ul><li><code>request</code>: SmsRequest - 短信请求对象</li></ul><p><strong>返回：</strong></p><ul><li><code>CompletableFuture&amp;lt;SmsResponse&amp;gt;</code>: 异步发送结果</li></ul><h5 id="querystatus" tabindex="-1">queryStatus <a class="header-anchor" href="#querystatus" aria-label="Permalink to &quot;queryStatus&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SmsResponse </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">queryStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String messageId)</span></span></code></pre></div><p>查询短信发送状态。</p><p><strong>参数：</strong></p><ul><li><code>messageId</code>: String - 短信消息ID</li></ul><p><strong>返回：</strong></p><ul><li><code>SmsResponse</code>: 查询结果</li></ul><h5 id="getquota" tabindex="-1">getQuota <a class="header-anchor" href="#getquota" aria-label="Permalink to &quot;getQuota&quot;">​</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SmsResponse </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getQuota</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>获取短信配额信息。</p><p><strong>返回：</strong></p><ul><li><code>SmsResponse</code>: 配额信息</li></ul><h2 id="数据模型" tabindex="-1">数据模型 <a class="header-anchor" href="#数据模型" aria-label="Permalink to &quot;数据模型&quot;">​</a></h2><h3 id="smsrequest" tabindex="-1">SmsRequest <a class="header-anchor" href="#smsrequest" aria-label="Permalink to &quot;SmsRequest&quot;">​</a></h3><p>短信请求对象。</p><h4 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h4><ul><li><code>phoneNumber</code>: String - 手机号码</li><li><code>templateId</code>: String - 模板ID</li><li><code>templateParams</code>: Map&lt;String, String&gt; - 模板参数</li><li><code>scheduledTime</code>: LocalDateTime - 定时发送时间（可选）</li><li><code>provider</code>: String - 指定服务商（可选）</li></ul><h3 id="smsresponse" tabindex="-1">SmsResponse <a class="header-anchor" href="#smsresponse" aria-label="Permalink to &quot;SmsResponse&quot;">​</a></h3><p>短信响应对象。</p><h4 id="属性-1" tabindex="-1">属性 <a class="header-anchor" href="#属性-1" aria-label="Permalink to &quot;属性&quot;">​</a></h4><ul><li><code>messageId</code>: String - 消息ID</li><li><code>status</code>: String - 发送状态</li><li><code>code</code>: String - 响应码</li><li><code>message</code>: String - 响应消息</li><li><code>timestamp</code>: LocalDateTime - 时间戳</li></ul><h3 id="smsconfig" tabindex="-1">SmsConfig <a class="header-anchor" href="#smsconfig" aria-label="Permalink to &quot;SmsConfig&quot;">​</a></h3><p>短信配置对象。</p><h4 id="属性-2" tabindex="-1">属性 <a class="header-anchor" href="#属性-2" aria-label="Permalink to &quot;属性&quot;">​</a></h4><ul><li><code>providerType</code>: String - 服务商类型</li><li><code>accessKeyId</code>: String - 访问密钥ID</li><li><code>accessKeySecret</code>: String - 访问密钥密码</li><li><code>signName</code>: String - 签名名称</li><li><code>region</code>: String - 区域（可选）</li><li><code>connectTimeout</code>: int - 连接超时时间</li><li><code>readTimeout</code>: int - 读取超时时间</li><li><code>maxRetries</code>: int - 最大重试次数</li></ul><h2 id="异常类" tabindex="-1">异常类 <a class="header-anchor" href="#异常类" aria-label="Permalink to &quot;异常类&quot;">​</a></h2><h3 id="smsexception" tabindex="-1">SmsException <a class="header-anchor" href="#smsexception" aria-label="Permalink to &quot;SmsException&quot;">​</a></h3><p>短信服务通用异常。</p><h3 id="providerexception" tabindex="-1">ProviderException <a class="header-anchor" href="#providerexception" aria-label="Permalink to &quot;ProviderException&quot;">​</a></h3><p>服务商特定异常。</p><h3 id="configurationexception" tabindex="-1">ConfigurationException <a class="header-anchor" href="#configurationexception" aria-label="Permalink to &quot;ConfigurationException&quot;">​</a></h3><p>配置相关异常。</p><h2 id="常量" tabindex="-1">常量 <a class="header-anchor" href="#常量" aria-label="Permalink to &quot;常量&quot;">​</a></h2><h3 id="服务商类型" tabindex="-1">服务商类型 <a class="header-anchor" href="#服务商类型" aria-label="Permalink to &quot;服务商类型&quot;">​</a></h3><ul><li><code>ALIYUN</code>: 阿里云</li><li><code>TENCENT</code>: 腾讯云</li><li><code>HUAWEI</code>: 华为云</li></ul><h3 id="状态码" tabindex="-1">状态码 <a class="header-anchor" href="#状态码" aria-label="Permalink to &quot;状态码&quot;">​</a></h3><ul><li><code>SUCCESS</code>: 成功</li><li><code>FAILED</code>: 失败</li><li><code>PENDING</code>: 处理中</li><li><code>TIMEOUT</code>: 超时</li></ul><h2 id="配置属性" tabindex="-1">配置属性 <a class="header-anchor" href="#配置属性" aria-label="Permalink to &quot;配置属性&quot;">​</a></h2><h3 id="通用配置" tabindex="-1">通用配置 <a class="header-anchor" href="#通用配置" aria-label="Permalink to &quot;通用配置&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">anysdk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  sms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    default-provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">aliyun</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    connect-timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    read-timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    max-retries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span></code></pre></div><h3 id="阿里云配置" tabindex="-1">阿里云配置 <a class="header-anchor" href="#阿里云配置" aria-label="Permalink to &quot;阿里云配置&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">anysdk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  sms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      aliyun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">aliyun</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        access-key-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key-id</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        access-key-secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key-secret</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        sign-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-sign-name</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cn-hangzhou</span></span></code></pre></div><h3 id="腾讯云配置" tabindex="-1">腾讯云配置 <a class="header-anchor" href="#腾讯云配置" aria-label="Permalink to &quot;腾讯云配置&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">anysdk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  sms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      tencent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tencent</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        access-key-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key-id</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        access-key-secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key-secret</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        sign-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-sign-name</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-app-id</span></span></code></pre></div><h3 id="华为云配置" tabindex="-1">华为云配置 <a class="header-anchor" href="#华为云配置" aria-label="Permalink to &quot;华为云配置&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">anysdk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  sms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      huawei</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">huawei</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        access-key-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key-id</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        access-key-secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-access-key-secret</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        sign-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-sign-name</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app-key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-app-key</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app-secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your-app-secret</span></span></code></pre></div>`,72)]))}const E=i(t,[["render",l]]);export{c as __pageData,E as default};
